{"ast":null,"code":"import _slicedToArray from\"G:/Assignment-10/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Button,Container,Form}from'react-bootstrap';import{Link,useLocation,useNavigate}from'react-router-dom';import{useSignInWithEmailAndPassword,useSignInWithGoogle}from'react-firebase-hooks/auth';import auth from'../../../firebase.init';import Loading from'../Loading/Loading';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import'./Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _location$state,_location$state$from;var _useSignInWithGoogle=useSignInWithGoogle(auth),_useSignInWithGoogle2=_slicedToArray(_useSignInWithGoogle,4),signInWithGoogle=_useSignInWithGoogle2[0],userByGoogle=_useSignInWithGoogle2[1],loadingViaGoogle=_useSignInWithGoogle2[2],errorByGoogle=_useSignInWithGoogle2[3];var _useSignInWithEmailAn=useSignInWithEmailAndPassword(auth),_useSignInWithEmailAn2=_slicedToArray(_useSignInWithEmailAn,4),signInWithEmailAndPassword=_useSignInWithEmailAn2[0],user=_useSignInWithEmailAn2[1],loading=_useSignInWithEmailAn2[2],error=_useSignInWithEmailAn2[3];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),checked=_useState2[0],setChecked=_useState2[1];var location=useLocation();var from=(location===null||location===void 0?void 0:(_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/';var errorMessage;var navigate=useNavigate();errorByGoogle&&(errorMessage=errorByGoogle.message);if(error){if(error.message==='Firebase: Error (auth/wrong-password).'){errorMessage='Wrong Password Please Try Again';}else if(error.message==='Firebase: Error (auth/user-not-found).'){errorMessage='User Not Found. Maybe invalid email or password';}else{errorMessage=error.message;}}//navigating user to the previous page\nuser&&navigate(from,{replace:true});userByGoogle&&navigate(from,{replace:true});//submitting and logging in with email and password\nvar submitValue=function submitValue(e){e.preventDefault();var form=e.target;var email=form.email.value;var password=form.password.value;signInWithEmailAndPassword(email,password);};//logging in with google\nvar handleSignInWithGoogle=function handleSignInWithGoogle(){signInWithGoogle();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center my-5\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[\"Please\",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",children:\" Login\"})]})}),/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[/*#__PURE__*/_jsxs(Form,{onSubmit:submitValue,className:\"w-75  mx-auto\",children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"email\",type:\"email\",placeholder:\"Enter email\",required:true}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"password\",type:\"password\",placeholder:\"Password\",required:true})]}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicCheckbox\",children:/*#__PURE__*/_jsx(Form.Check,{onClick:function onClick(){return setChecked(!checked);},type:\"checkbox\",label:\"I agree terms and condition\"})}),/*#__PURE__*/_jsx(\"br\",{}),error&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-danger\",children:[errorMessage,\" \",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(Button,{className:\"d-block mx-auto px-5\",variant:\"primary\",type:\"submit\",disabled:!checked,children:\"Login\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Forgot Password? \",/*#__PURE__*/_jsx(Link,{to:\"/forget-password\",children:\"Reset Password\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"or-container\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"or\"}),/*#__PURE__*/_jsx(\"div\",{})]}),(loading||loadingViaGoogle)&&/*#__PURE__*/_jsx(Loading,{}),(loading||loadingViaGoogle)&&toast('Logging in...'),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mx-auto d-block px-5\",onClick:handleSignInWithGoogle,children:\"Sign in with Google\"})]}),/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"br\",{})]});};export default Login;","map":{"version":3,"sources":["G:/Assignment-10/src/components/Login/Login/Login.js"],"names":["React","useState","Button","Container","Form","Link","useLocation","useNavigate","useSignInWithEmailAndPassword","useSignInWithGoogle","auth","Loading","ToastContainer","toast","Login","signInWithGoogle","userByGoogle","loadingViaGoogle","errorByGoogle","signInWithEmailAndPassword","user","loading","error","checked","setChecked","location","from","state","pathname","errorMessage","navigate","message","replace","submitValue","e","preventDefault","form","target","email","value","password","handleSignInWithGoogle"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Button, Container, Form } from 'react-bootstrap';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { useSignInWithEmailAndPassword, useSignInWithGoogle } from 'react-firebase-hooks/auth';\r\nimport auth from '../../../firebase.init';\r\nimport Loading from '../Loading/Loading';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './Login.css'\r\n\r\nconst Login = () => {\r\n    const [signInWithGoogle, userByGoogle, loadingViaGoogle, errorByGoogle] = useSignInWithGoogle(auth);\r\n    const [\r\n        signInWithEmailAndPassword,\r\n        user,\r\n        loading,\r\n        error,\r\n    ] = useSignInWithEmailAndPassword(auth);\r\n    const [checked, setChecked] = useState(false);\r\n    const location = useLocation();\r\n    const from = location?.state?.from?.pathname || '/';\r\n    let errorMessage;\r\n    const navigate = useNavigate();\r\n    errorByGoogle && (errorMessage = errorByGoogle.message);\r\n    if (error) {\r\n        if (error.message === 'Firebase: Error (auth/wrong-password).') {\r\n            errorMessage = 'Wrong Password Please Try Again';\r\n        }\r\n        else if (error.message === 'Firebase: Error (auth/user-not-found).') {\r\n            errorMessage = 'User Not Found. Maybe invalid email or password';\r\n        }\r\n        else {\r\n            errorMessage = error.message;\r\n        }\r\n    }\r\n    //navigating user to the previous page\r\n    user && navigate(from, { replace: true });\r\n    userByGoogle && navigate(from, { replace: true });\r\n    //submitting and logging in with email and password\r\n    const submitValue = (e) => {\r\n        e.preventDefault();\r\n        const form = e.target;\r\n        const email = form.email.value;\r\n        const password = form.password.value;\r\n        signInWithEmailAndPassword(email, password);\r\n    }\r\n    //logging in with google\r\n    const handleSignInWithGoogle = () => {\r\n        signInWithGoogle();\r\n    }\r\n    return (\r\n        <div>\r\n            <div className='text-center my-5'>\r\n                <h1>Please\r\n                    <span className='text-primary'> Login</span>\r\n                </h1>\r\n            </div>\r\n            <Container className='mt-5'>\r\n                <Form onSubmit={submitValue} className='w-75  mx-auto'>\r\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                        <Form.Label>Email address</Form.Label>\r\n                        <Form.Control name='email' type=\"email\" placeholder=\"Enter email\" required />\r\n                        <Form.Text className=\"text-muted\">\r\n                            We'll never share your email with anyone else.\r\n                        </Form.Text>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control name='password' type=\"password\" placeholder=\"Password\" required />\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\r\n                        <Form.Check onClick={() => setChecked(!checked)} type=\"checkbox\" label=\"I agree terms and condition\" />\r\n                    </Form.Group>\r\n                    <br />\r\n                    {error && <p className='text-danger'>{errorMessage} <br /></p>}\r\n                    <Button className='d-block mx-auto px-5' variant=\"primary\" type=\"submit\" disabled={!checked}>\r\n                        Login\r\n                    </Button>\r\n                    <br /><br />\r\n                    Don't have an account? <Link to='/signup'>Sign Up</Link>\r\n                    <br /><br />\r\n                    Forgot Password? <Link to='/forget-password'>Reset Password</Link>\r\n                </Form>\r\n                <div class=\"or-container\">\r\n                    <div></div>\r\n                    <p>or</p>\r\n                    <div></div>\r\n                </div>\r\n                {(loading || loadingViaGoogle) && <Loading />}\r\n                {(loading || loadingViaGoogle) && toast('Logging in...')}\r\n                <button className='btn btn-primary mx-auto d-block px-5' onClick={handleSignInWithGoogle}>Sign in with Google</button>\r\n            </Container>\r\n            <ToastContainer />\r\n            <br />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}